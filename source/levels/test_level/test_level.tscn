[gd_scene load_steps=55 format=1]

[ext_resource path="res://levels/test_level/test_level.gd" type="Script" id=1]
[ext_resource path="res://areas/tileset/tilesetResized.tres" type="TileSet" id=2]
[ext_resource path="res://objects/totem/Totem.tscn" type="PackedScene" id=3]
[ext_resource path="res://actors/player/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_01.png" type="Texture" id=5]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_02.png" type="Texture" id=6]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_03.png" type="Texture" id=7]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_04.png" type="Texture" id=8]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_05.png" type="Texture" id=9]
[ext_resource path="res://actors/player/ManChar/Activate/ManChar_Activate_06.png" type="Texture" id=10]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-01.png" type="Texture" id=11]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-02.png" type="Texture" id=12]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-03.png" type="Texture" id=13]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-04.png" type="Texture" id=14]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-05.png" type="Texture" id=15]
[ext_resource path="res://actors/player/ManChar/Run/ManChar_Run-06.png" type="Texture" id=16]
[ext_resource path="res://actors/player/ManChar/Die/ManChar_Die_01.png" type="Texture" id=17]
[ext_resource path="res://actors/player/ManChar/Die/ManChar_Die_02.png" type="Texture" id=18]
[ext_resource path="res://actors/player/ManChar/Die/ManChar_Die_03.png" type="Texture" id=19]
[ext_resource path="res://actors/player/ManChar/Die/ManChar_Die_04.png" type="Texture" id=20]
[ext_resource path="res://actors/player/ManChar/Die/ManChar_Die_05.png" type="Texture" id=21]
[ext_resource path="res://actors/player/ManChar/Stay/ManChar_Stay_01.png" type="Texture" id=22]
[ext_resource path="res://actors/player/ManChar/Stay/ManChar_Stay_02.png" type="Texture" id=23]
[ext_resource path="res://actors/player/ManChar/Stay/ManChar_Stay_03.png" type="Texture" id=24]
[ext_resource path="res://actors/player/ManChar/Stay/ManChar_Stay_04.png" type="Texture" id=25]
[ext_resource path="res://actors/player/ManChar/Stay/ManChar_Stay_05.png" type="Texture" id=26]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_01.png" type="Texture" id=27]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_02.png" type="Texture" id=28]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_03.png" type="Texture" id=29]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_04.png" type="Texture" id=30]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_05.png" type="Texture" id=31]
[ext_resource path="res://actors/player/WomanChar/Activate/WomanChar_Activate_06.png" type="Texture" id=32]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_1.png" type="Texture" id=33]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_2.png" type="Texture" id=34]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_3.png" type="Texture" id=35]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_4.png" type="Texture" id=36]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_5.png" type="Texture" id=37]
[ext_resource path="res://actors/player/WomanChar/Run/WomanChar_Run_6.png" type="Texture" id=38]
[ext_resource path="res://actors/player/WomanChar/Die/WomanChar_Die_01.png" type="Texture" id=39]
[ext_resource path="res://actors/player/WomanChar/Die/WomanChar_Die_02.png" type="Texture" id=40]
[ext_resource path="res://actors/player/WomanChar/Die/WomanChar_Die_03.png" type="Texture" id=41]
[ext_resource path="res://actors/player/WomanChar/Die/WomanChar_Die_04.png" type="Texture" id=42]
[ext_resource path="res://actors/player/WomanChar/Die/WomanChar_Die_05.png" type="Texture" id=43]
[ext_resource path="res://actors/player/WomanChar/Stay/WomanChar_Stay_01l.png" type="Texture" id=44]
[ext_resource path="res://actors/player/WomanChar/Stay/WomanChar_Stay_02.png" type="Texture" id=45]
[ext_resource path="res://actors/player/WomanChar/Stay/WomanChar_Stay_03.png" type="Texture" id=46]
[ext_resource path="res://actors/player/WomanChar/Stay/WomanChar_Stay_04.png" type="Texture" id=47]
[ext_resource path="res://actors/player/WomanChar/Stay/WomanChar_Stay_05.png" type="Texture" id=48]
[ext_resource path="res://screens/UI/UI.tscn" type="PackedScene" id=49]
[ext_resource path="res://screens/score/score.tscn" type="PackedScene" id=50]
[ext_resource path="res://globals.tscn" type="PackedScene" id=51]

[sub_resource type="SpriteFrames" id=1]

animations = [ { "frames":[ ExtResource( 5 ), ExtResource( 6 ), ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ), ExtResource( 10 ) ], "loop":true, "name":"interact", "speed":5.0 }, { "frames":[ ExtResource( 11 ), ExtResource( 12 ), ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ), ExtResource( 16 ) ], "loop":true, "name":"running", "speed":8.0 }, { "frames":[ ExtResource( 17 ), ExtResource( 18 ), ExtResource( 19 ), ExtResource( 20 ), ExtResource( 21 ) ], "loop":true, "name":"die", "speed":5.0 }, { "frames":[ ExtResource( 22 ), ExtResource( 23 ), ExtResource( 24 ), ExtResource( 25 ), ExtResource( 26 ) ], "loop":true, "name":"iddle", "speed":5.0 } ]

[sub_resource type="SpriteFrames" id=2]

animations = [ { "frames":[ ExtResource( 27 ), ExtResource( 28 ), ExtResource( 29 ), ExtResource( 30 ), ExtResource( 31 ), ExtResource( 32 ) ], "loop":true, "name":"interact", "speed":5.0 }, { "frames":[ ExtResource( 33 ), ExtResource( 34 ), ExtResource( 35 ), ExtResource( 36 ), ExtResource( 37 ), ExtResource( 38 ) ], "loop":true, "name":"running", "speed":8.0 }, { "frames":[ ExtResource( 39 ), ExtResource( 40 ), ExtResource( 41 ), ExtResource( 42 ), ExtResource( 43 ) ], "loop":true, "name":"die", "speed":5.0 }, { "frames":[ ExtResource( 44 ), ExtResource( 45 ), ExtResource( 46 ), ExtResource( 47 ), ExtResource( 48 ) ], "loop":true, "name":"iddle", "speed":5.0 } ]

[sub_resource type="Animation" id=3]

length = 2.0
loop = false
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath(".:visibility/opacity")
tracks/0/interp = 1
tracks/0/imported = false
tracks/0/keys = { "times":FloatArray( 0, 0.1, 0.2 ), "transitions":FloatArray( 1, 1, 1 ), "update":0, "values":[ 0.0, 1.0, 0.0 ] }
tracks/1/type = "method"
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/imported = false
tracks/1/keys = { "times":FloatArray( 1.9 ), "transitions":FloatArray( 1 ), "values":[ { "args":[  ], "method":"game_over" } ] }
tracks/2/type = "value"
tracks/2/path = NodePath("../score:rect/pos")
tracks/2/interp = 1
tracks/2/imported = false
tracks/2/keys = { "times":FloatArray( 0, 1 ), "transitions":FloatArray( 1, 1 ), "update":0, "values":[ Vector2( 500, 270 ), Vector2( 557, 273 ) ] }

[node name="test_level" type="Node2D"]

script/script = ExtResource( 1 )

[node name="TileMap" type="TileMap" parent="."]

transform/scale = Vector2( 2, 2 )
mode = 0
tile_set = ExtResource( 2 )
cell/size = Vector2( 50, 50 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( 0, -2147483648, 1, -2147483648, 2, -2147483648, 3, -2147483648, 4, -2147483648, 5, -2147483648, 6, -2147483648, 7, -2147483648, 8, -2147483648, 9, -2147483648, 10, -2147483648, 11, -2147483648, 12, -2147483648, 13, -2147483648, 65536, -2147483648, 65537, -2147483648, 65538, -2147483648, 65539, -2147483648, 65540, -2147483648, 65541, -2147483648, 65542, -2147483648, 65543, -2147483648, 65544, -2147483648, 65545, -2147483648, 65546, -2147483648, 65547, -2147483648, 65548, -2147483648, 65549, -2147483648, 131072, -2147483648, 131073, -2147483648, 131074, -2147483648, 131075, -2147483648, 131076, -2147483648, 131077, -2147483648, 131078, -2147483648, 131079, -2147483648, 131080, -2147483648, 131081, -2147483648, 131082, -2147483648, 131083, -2147483648, 131084, -2147483648, 131085, -2147483648, 196608, -2147483648, 196609, -2147483648, 196610, -2147483648, 196611, -2147483648, 196612, -2147483648, 196613, -2147483648, 196614, -2147483648, 196615, -2147483648, 196616, -2147483648, 196617, -2147483648, 196618, -2147483648, 196619, -2147483648, 196620, -2147483648, 196621, -2147483648, 262144, -2147483648, 262145, -2147483648, 262146, -2147483648, 262147, -2147483648, 262148, -2147483648, 262149, -2147483648, 262150, -2147483648, 262151, -2147483648, 262152, -2147483648, 262153, -2147483648, 262154, -2147483648, 262155, -2147483648, 262156, -2147483648, 262157, -2147483648, 327680, -2147483648, 327681, -2147483648, 327682, -2147483648, 327683, -2147483648, 327684, -2147483648, 327685, -2147483648, 327686, -2147483648, 327687, -2147483648, 327688, -2147483648, 327689, -2147483648, 327690, -2147483648, 327691, -2147483648, 327692, -2147483648, 327693, -2147483648, 393216, -2147483648, 393217, -2147483648, 393218, -2147483648, 393219, -2147483648, 393220, -2147483648, 393221, -2147483648, 393222, -2147483648, 393223, -2147483648, 393224, -2147483648, 393225, -2147483648, 393226, -2147483648, 393227, -2147483648, 393228, -2147483648, 393229, -2147483648, 458752, -2147483648, 458753, -2147483648, 458754, -2147483648, 458755, -2147483648, 458756, -2147483648, 458757, -2147483648, 458758, -2147483648, 458759, -2147483648, 458760, -2147483648, 458761, -2147483648, 458762, -2147483648, 458763, -2147483648, 458764, -2147483648, 458765, -2147483648 )

[node name="TileMap2" type="TileMap" parent="."]

transform/scale = Vector2( 2, 2 )
mode = 0
tile_set = ExtResource( 2 )
cell/size = Vector2( 50, 50 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( 0, 5, 1, 6, 2, 4, 3, 6, 4, 5, 5, 5, 6, 5, 7, 5, 8, 4, 9, 6, 10, 5, 11, 4, 12, 5, 13, 6, 983065, -1073741815 )

[node name="Node2D" type="Node2D" parent="."]

[node name="TileMap3" type="TileMap" parent="Node2D"]

transform/scale = Vector2( 2, 2 )
mode = 0
tile_set = ExtResource( 2 )
cell/size = Vector2( 50, 50 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray(  )

[node name="YSort" type="YSort" parent="."]

editor/display_folded = true
sort/enabled = true

[node name="Totem" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 682, 382 )

[node name="Totem5" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 1082, 382 )

[node name="Totem6" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 982, 182 )

[node name="Totem7" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 932, 582 )

[node name="Totem8" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 732, 582 )

[node name="Totem9" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 482, 582 )

[node name="Totem2" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 382, 382 )

[node name="Totem3" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 432, 182 )

[node name="Totem4" parent="YSort" instance=ExtResource( 3 )]

transform/pos = Vector2( 682, 132 )

[node name="Player" parent="YSort" instance=ExtResource( 4 )]

transform/pos = Vector2( 282, 382 )
opponent_score_path = NodePath("../../score/score_player_two")

[node name="Sprite" parent="YSort/Player"]

frames = SubResource( 1 )
frame = 2

[node name="Player2" parent="YSort" instance=ExtResource( 4 )]

transform/pos = Vector2( 1232, 382 )
player_flag = "player_two"
opponent_score_path = NodePath("../../score/score_player_one")

[node name="Sprite" parent="YSort/Player2"]

frames = SubResource( 2 )

[node name="UI" parent="." instance=ExtResource( 49 )]

[node name="player_one_score" parent="UI"]

transform/pos = Vector2( 32.7387, 64.2799 )
modulate = Color( 0.74, 0.39, 6.97, 1 )

[node name="player_two_score" parent="UI"]

transform/pos = Vector2( 1369.35, 61.7517 )
modulate = Color( 2.78, 0.69, 0.74, 1 )

[node name="ColorFrame" type="ColorFrame" parent="."]

editor/display_folded = true
visibility/opacity = 0.0
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = -50.0
margin/top = -50.0
margin/right = 1300.0
margin/bottom = 750.0
color = Color( 1, 1, 1, 1 )

[node name="animator" type="AnimationPlayer" parent="ColorFrame"]

playback/process_mode = 1
playback/default_blend_time = 0.0
root/root = NodePath("..")
"anims/game over" = SubResource( 3 )
playback/active = true
playback/speed = 1.0
blend_times = [  ]
autoplay = ""

[node name="score" parent="." instance=ExtResource( 50 )]

editor/display_folded = true
margin/left = 500.0
margin/top = -200.0
margin/right = 540.0
margin/bottom = -160.0

[node name="globals" parent="." instance=ExtResource( 51 )]

[node name="Camera2D" type="Camera2D" parent="."]

transform/pos = Vector2( -20.824, -12.7194 )
anchor_mode = 0
rotating = false
current = true
zoom = Vector2( 1.12, 1.14 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/smoothed = false
drag_margin/h_enabled = true
drag_margin/v_enabled = true
smoothing/enable = false
smoothing/speed = 5.0
drag_margin/left = 0.2
drag_margin/top = 0.2
drag_margin/right = 0.2
drag_margin/bottom = 0.2

[node name="StreamPlayer" type="StreamPlayer" parent="."]

stream/stream = null
stream/play = false
stream/loop = false
stream/volume_db = 0.0
stream/autoplay = false
stream/paused = false
stream/loop_restart_time = 0.0
stream/buffering_ms = 500

[connection signal="finished" from="YSort/Player/Sprite" to="YSort/Player" method="_on_Sprite_finished"]

[connection signal="finished" from="YSort/Player2/Sprite" to="YSort/Player2" method="_on_Sprite_finished"]


[editable path="YSort/Player"]
[editable path="YSort/Player2"]
[editable path="UI"]
[editable path="score"]
